{"version":3,"sources":["uni-app:///main.js","webpack:///D:/dev/axios/my-frontend/pages/customMode/index.vue?9fb3","webpack:///D:/dev/axios/my-frontend/pages/customMode/index.vue?afef","webpack:///D:/dev/axios/my-frontend/pages/customMode/index.vue?c880","webpack:///D:/dev/axios/my-frontend/pages/customMode/index.vue?f18c","uni-app:///pages/customMode/index.vue","webpack:///D:/dev/axios/my-frontend/pages/customMode/index.vue?b971","webpack:///D:/dev/axios/my-frontend/pages/customMode/index.vue?f47a"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAinB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoEroB;AACA;AACA,uF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAfA,I,6BACA,iDACA,oBACA,iBACA,C,kEACA,CACA,2BACA,C,gwCASA,EACA,cACA,4BADA,EAEA,gBAFA,EAGA,kBAHA,EAIA,gBAJA,EADA,EAOA,IAPA,kBAOA,CACA,SACA,cADA,EAEA,cAFA,EAGA,KAHA,EAIA,QAJA,EAKA,WALA,EAMA,YANA,EAOA,kBAPA,EAQA,aARA,EASA,WATA,EAUA,iBAVA,EAWA,OACA,WACA,SADA,EAEA,UAFA,EADA,EAXA,EAiBA,WACA,WADA,EAjBA,EAoBA,gBApBA,EAqBA,uBArBA,EAsBA,YAtBA,EAuBA,SAvBA,EAwBA,SAxBA,EAyBA,UAzBA,EA0BA,WA1BA,EA2BA,OA3BA,EA4BA,iBA5BA,EA6BA,QA7BA,EA8BA,eA9BA,EA8BA;AACA,mBA/BA,EA+BA;AACA,8BAhCA,EAgCA;AACA,yBAjCA,EAiCA;AACA,0BACA,MADA,EAEA,SAFA,EAGA,aAHA,EAlCA,GAwCA,CAhDA,EAiDA,4BACA,sBACA,oDADA,GADA,CAjDA,EAsDA,MAtDA,kBAsDA,MAtDA,EAsDA,kBACA,iBADA,CAEA;AACA;AACA,gBACA,aADA;AAEA,gDAFA;AAGA,cAHA;;AAKA,QALA,CAKA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,8CAPA,CAOA;AACA,4CARA,CAQA;AACA,kDATA,CASA;AACA;AACA,sDAXA,CAWA;AACA,sCAZA,CAYA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvCA;AAwCA,SAxCA,CAwCA;AACA;AACA,KA1CA;AA2CA,GArGA;AAsGA;AACA;AACA;AACA;AACA,GA1GA;AA2GA;AACA,4CADA;AAEA,sEAFA;;AAIA;AACA,aALA,qBAKA,KALA,EAKA,IALA,EAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA;AACA,cAdA,sBAcA,KAdA,EAcA,IAdA,EAcA;AACA,6BADA,CACA;AACA,2BAFA,CAEA;AACA,yCAHA,CAGA;AACA;AACA,KAnBA;AAoBA;AACA;AACA;AACA,oDAFA,CAEA;AACA,yCAHA,CAGA;AACA,KAzBA;AA0BA,YA1BA,sBA0BA;AACA,4BADA,CACA;AACA,KA5BA;AA6BA,UA7BA,kBA6BA,CA7BA,EA6BA;AACA;AACA;AACA,gEADA;AAEA,mBAFA;AAGA,qBAHA;AAIA;AACA,2CADA,EACA;AACA,+CAFA,EAJA;;AAQA;AACA,sCADA;AAEA,oBAFA,EARA;;AAYA;AACA;AACA;AACA;AACA;AACA,SAjBA;;;AAoBA,KAnDA;AAoDA;AACA;AACA;AACA;AACA;AACA,sDADA,CACA;AACA,0DAFA,CAEA;AACA,SAHA,MAGA;AACA;AACA,2CAFA,CAEA;AACA,sFAHA,CAGA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA,OAbA;AAcA,KArEA;AAsEA;AACA;AACA;AACA;AACA;AACA,oDADA,CACA;AACA,WAFA,MAEA;AACA,mDADA,CACA;AACA,8CAFA,CAEA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA,SAXA;AAYA,OAbA;AAcA,KAtFA;AAuFA;AACA,QAxFA,kBAwFA;AACA;AACA;AACA,KA3FA;AA4FA,iBA5FA,2BA4FA;AACA;AACA;AACA,KA/FA;AAgGA;AACA,kBAjGA,4BAiGA;AACA;AACA;AACA,4BADA;AAEA,mCAFA;AAGA,wBAHA;;AAKA,OANA,MAMA;AACA;AACA,yBADA;AAEA,mCAFA;AAGA,wBAHA;AAIA,OALA,MAKA;AACA;AACA,yBADA;AAEA,mCAFA;AAGA,wBAHA;;AAKA,OANA;AAOA;AACA;AACA;AACA;AACA,yBADA;;AAGA;AACA;AACA,uBADA;AAEA,wDAFA;AAGA;AACA,6BADA;AAEA,mCAFA;AAGA,2BAHA,EAHA;;AAQA,YARA,CAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aALA,MAKA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,4BAFA;;AAIA;AACA,0CADA;;AAGA,WAlBA,MAkBA;AACA;AACA,qCADA;AAEA,4BAFA;;AAIA;AACA;AACA,SAlCA;AAmCA;AACA,KA/JA;AAgKA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA,2BADA;AAEA,uCAFA;AAGA,4BAHA;;AAKA;AACA,SAVA,EAUA,KAVA,CAUA;AACA;AACA;AACA,SAbA;AAcA,OAfA;AAgBA;AACA,KAlLA;AAmLA;AACA;AACA,KArLA,GA3GA,E;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAkoC,CAAgB,yjCAAG,EAAC,C;;;;;;;;;;;ACAtpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/customMode/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/customMode/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7eeef8b0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/customMode/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7eeef8b0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.shadeStyleObject])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\">\r\n\t\t<view class=\"methodBox\">\r\n\t\t\t<button type=\"default\" v-show=\"!saveStatus\" @click=\"saveText\" style=\"float: right; background: #007AFF;color: #FFFFFF;\" size=\"mini\">确认</button>\r\n\t\t\t<button type=\"default\" v-show=\"saveStatus && disAbledBtn\" @click=\"save\" style=\"float: right; background: #007AFF;color: #FFFFFF;\" size=\"mini\">保存</button>\r\n\t\t</view>\r\n\t\t<view class=\"templateBox\" :style=\"{height: height*rates+'px',width: width*rates+'px'}\">\r\n\t\t\t\t<div  v-for=\"(item1,$index) in detaArr\" :key=\"$index\" class=\"childBox\">\r\n\t\t\t\t\t<image-div @onClickImg=\"chooseImg($index,item1)\" :class=\"{ active:$index===indexData}\" v-if=\"item1.type==='image'\" :datalist=\"item1\" :rates=\"rates\" :url=\"base_url\"></image-div>\r\n\t\t\t\t\t<wrap-div :datalist=\"item1\"  v-if=\"item1.type==='wrap'\" :rates=\"rates\" :url=\"base_url\" class=\"childBox\">\r\n\t\t\t\t\t\t<div v-for=\"(item2,$index2) in item1.childData\" :key=\"$index2\" class=\"childBox\">\r\n\t\t\t\t\t\t\t<image-div @onClickImg=\"chooseImg($index2,item2)\" :class=\"{active:$index===indexData}\" v-if=\"item2.type==='image'\" :datalist=\"item2\" :rates=\"rates\" :url=\"base_url\"></image-div>\r\n\t\t\t\t\t\t\t<text-div  @onClickText=\"chooseText($index2,item2)\" v-if=\"item2.type==='text'\" :datalist=\"item2\" :rates=\"rates\"></text-div>\r\n\t\t\t\t\t\t\t<wrap-div :datalist=\"item2\"  v-if=\"item2.type==='wrap'\" :rates=\"rates\" :url=\"base_url\" class=\"childBox\">\r\n\t\t\t\t\t\t\t\t<div v-for=\"(item3,$index3) in item2.childData\" :key=\"$index3\" class=\"childBox\">\r\n\t\t\t\t\t\t\t\t\t<image-div @onClickImg=\"chooseImg($index3,item3)\" :class=\"{ active:$index===indexData}\" v-if=\"item3.type==='image'\" :datalist=\"item3\" :rates=\"rates\" :url=\"base_url\"></image-div>\r\n\t\t\t\t\t\t\t\t\t<text-div  @onClickText=\"chooseText($index3,item3)\" v-if=\"item3.type==='text'\" :datalist=\"item3\" :rates=\"rates\"></text-div>\r\n\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t</wrap-div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</wrap-div>\r\n\t\t\t\t\t<text-div  @onClickText=\"chooseText($index,item1)\" v-if=\"item1.type==='text'\" :datalist=\"item1\" :rates=\"rates\"></text-div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<view class=\"shadeBox\" :style=\"[shadeStyleObject]\"></view>\t\r\n\t\t</view>\t\r\n\t\t<!-- 文本编辑弹出窗 -->\r\n\t\t<view class=\"editText\" v-show=\"editMode\" @click.stop=\"closeTextModeL\">\r\n\t\t\t<textarea v-model=\"textValue\" @click.stop auto-height placeholder-style=\"color:#fff\" style=\"color:#fff;margin: 10px auto;\"/>\r\n\t\t</view>\t\r\n\t\t<gmy-img-cropper ref=\"gmyImgCropper\" :cropperWidth=\"imageW\"  :cropperHeight=\"imageH\" @getImg = \"getImg\"></gmy-img-cropper>\r\n\t\t<view :hidden=\"userFeedbackHidden\" class=\"popup_content\">\r\n\t\t\t<view class=\"popup_title\">名称和时长</view>\r\n\t\t\t<view class=\"popup_textarea_item\">\r\n\t\t\t\t <view class=\"uni-form-item uni-column\">\r\n\t\t\t\t\t<view class=\"title\">名称：</view>\r\n\t\t\t\t\t<input class=\"uni-input\" v-model=\"name\" maxlength=\"15\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-form-item uni-column\">\r\n\t\t\t\t\t<view class=\"title\">时长：</view>\r\n\t\t\t\t\t<input class=\"uni-input\" type='number' v-model=\"seconds\" maxlength=\"5\"/>\r\n\t\t\t\t</view>\t\r\n\t\t\t\t<view class=\"uni-form-item uni-column\">\r\n\t\t\t\t\t<view @click=\"closeFeedback()\">\r\n\t\t\t\t\t\t<button class=\"popup_button\">取消</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @click=\"submitFeedback()\">\r\n\t\t\t\t\t\t<button class=\"popup_button\">确定</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\t\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\tclass List {\r\n\t\t\tconstructor(code) {\r\n\t\t\t    this.isShow = false;\r\n\t\t\t\tthis.code = code;\r\n\t\t\t}\r\n\t\t\tshowCode(){\r\n\t\t\t\tthis.isShow = !this.isShow;\r\n\t\t\t}\r\n\t\t}\r\n\timport gmyImgCropper from \"../components/crop/cropper.vue\"\r\n\timport wrapDiv from \"../components/module/wrap.vue\"\r\n\timport imageDiv from \"../components/module/image.vue\"\r\n\timport textDiv from \"../components/module/text.vue\"\r\n\timport urlConfig from '../../common/config.js'\r\n\timport {mapState, mapActions, mapMutations} from 'vuex'\r\n\timport api from \"../../api/index.js\"\n\texport default { \r\n\t\t components: {\r\n\t\t    gmyImgCropper,\r\n\t\t\twrapDiv,\r\n\t\t\timageDiv,\r\n\t\t\ttextDiv\r\n\t\t  },\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdetailData: {},\r\n\t\t\t\tthumb_path: '',\r\n\t\t\t\tId: 0,\r\n\t\t\t\tname: '',\r\n\t\t\t\tseconds: 20,\r\n\t\t\t\tcontentId: 0,\r\n\t\t\t\tremoveStatu: false,\r\n\t\t\t\timgSrc:'123',\r\n\t\t\t\tdetaArr: {},\r\n\t\t\t\tdisAbledBtn: true,\r\n\t\t\t\ttpl: {\r\n\t\t\t\t  dynamic:{\r\n\t\t\t\t\twords: {},\r\n\t\t\t\t\timages: {}\r\n\t\t\t\t  }\r\n\t\t\t\t},\r\n\t\t\t\tfontObj: {\r\n\t\t\t\t\tcontent: ''\r\n\t\t\t\t},\r\n\t\t\t\tsaveStatus: true,\r\n\t\t\t\tindexData: 'background',\r\n\t\t\t\tbase_url: '',\r\n\t\t\t\timageW: 0,\r\n\t\t\t\timageH: 0,\r\n\t\t\t\twidth: 100,\r\n\t\t\t\theight: 100,\r\n\t\t\t\tzoom: 1,\r\n\t\t\t\timgCropperShow: 2,\r\n\t\t\t\trates: 1,\r\n\t\t\t\teditMode: false, //文本弹窗窗\r\n\t\t\t\ttextValue: '', // 文本默认值\r\n\t\t\t\tuserFeedbackHidden: true, // 默认隐藏用户名和时长输入窗\r\n\t\t\t\tfeedbackContent: '', // 用户反馈内容\r\n\t\t\t\tshadeStyleObject: {\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tbottom: 0,\r\n\t\t\t\t\ttransform: '',\r\n\t\t\t\t}\n\t\t\t}\n\t\t},\r\n\t\tcomputed: {\r\n\t\t    ...mapState({\r\n\t\t\t   modeTpl: state => state.tpl\r\n\t\t    })\r\n\t\t},\n\t\tonLoad(option) {\r\n\t\t\tlet _that = this\r\n\t\t\t // this.rates = wx.getSystemInfoSync().windowWidth/1920\r\n\t\t\t // 初始化数据加载\n\t\t\tthis.$req({\r\n\t\t\t\tmethod:'GET',\r\n\t\t\t\turl:'/bank/app/h5/templates/'+option.id,\r\n\t\t\t\tdata:{}\r\n\t\t\t\t})\r\n\t\t\t   .then(res2=>{\r\n\t\t\t\t  // 获取并设置模板宽度与小程序屏幕比例\r\n\t\t\t\t  if (res2.data.message.direction===0) {\r\n\t\t\t\t\t this.rates = Math.floor(wx.getSystemInfoSync().windowWidth/res2.data.message.width  * 1000) / 1000    \r\n\t\t\t\t  } else {\r\n\t\t\t\t\t  this.rates = Math.floor(wx.getSystemInfoSync().windowWidth/res2.data.message.width  * 700) / 1000\r\n\t\t\t\t  }\r\n\t\t\t\t  this.height = res2.data.message.height // 获取模板宽度\r\n\t\t\t\t  this.width = res2.data.message.width // 模板宽度\r\n\t\t\t\t  this.base_url = res2.data.message.base_url // 地址\r\n\t\t\t\t  this.detaArr = JSON.parse(res2.data.message.dynamic) \r\n\t\t\t\t  this.thumb_path = res2.data.message.thumb_path // 获取模板缩略图\r\n\t\t\t\t  this.Id = res2.data.message.id // 获取当前模板id\r\n\t\t\t\t  this.removeStatu = (option.type)?false:true\r\n\t\t\t\t  if (!option.type) {\r\n\t\t\t\t\t  this.newBuilt().then(res=>{\r\n\t\t\t\t\t\t  this.contentId = res.message.id\r\n\t\t\t\t\t\t  this.name = res.message.name\r\n\t\t\t\t\t  })\r\n\t\t\t\t  } else{\r\n\t\t\t\t\t  this.contentId = option.type\r\n\t\t\t\t\t  this.seconds = this.modeTpl.seconds\r\n\t\t\t\t\t  this.name = this.modeTpl.name\r\n\t\t\t\t\t  if(this.modeTpl.tpl.dynamic) {\r\n\t\t\t\t\t\t  if(this.modeTpl.tpl.dynamic.images.constructor !== Array) {\r\n\t\t\t\t\t\t\t  this.tpl.dynamic.images = this.modeTpl.tpl.dynamic.images\r\n\t\t\t\t\t\t\t  this.updateList(this.modeTpl.tpl.dynamic.images,this.detaArr,1)\r\n\t\t\t\t\t\t  } \r\n\t\t\t\t\t\t  if (this.modeTpl.tpl.dynamic.words.constructor !== Array) {\r\n\t\t\t\t\t\t\t  this.tpl.dynamic.words = this.modeTpl.tpl.dynamic.words\r\n\t\t\t\t\t\t\t  this.updateList(this.modeTpl.tpl.dynamic.words,this.detaArr,0)\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t  }\r\n\t\t\t\t  }\r\n\t\t\t   })\r\n\t\t\t   .catch(error=>{\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\n\t\t},\r\n\t\tonUnload: function () {//如果页面被卸载时被执行\r\n\t\t\tif (this.removeStatu) {\r\n\t\t\t\tapi.deleteContentLists(this.contentId)\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t...mapActions([ 'getContentLists']),\r\n\t\t\t...mapMutations(['ADD_CONTENT_LIST' , 'REMOVE_CONTENT_LIST'\r\n\t\t\t]),\r\n\t\t\t// 图片修改剪切\r\n\t\t\tchooseImg(index,item){\r\n\t\t\t\tlet _that = this\r\n\t\t\t\tthis.imageW = item.width * this.rates\r\n\t\t\t\tthis.imageH = item.height * this.rates\r\n\t\t\t\tthis.indexData = index\r\n\t\t\t\tthis.imgCropperShow = 0\r\n\t\t\t\tthis.$refs.gmyImgCropper.getImage()\r\n\t\t\t},\r\n\t\t\t// 选中当前可编辑文字\r\n\t\t\tchooseText(index,item){\r\n\t\t\t\tthis.indexData = index  // 获取当前点击的文字在detaArr中的键值对象\r\n\t\t\t\tthis.editMode = true // 打开文本编辑区域\r\n\t\t\t\tthis.saveStatus = !this.saveStatus  // 切换保存和确认按钮\r\n\t\t\t\tthis.textValue = item.text\r\n\t\t\t},\r\n\t\t\t// 关闭文本编辑区域\r\n\t\t\tcloseTextModeL:function() {\r\n\t\t\t\tthis.editMode = false \r\n\t\t\t\tthis.setData(this.textValue,this.detaArr,0) // 回调改变文字图片的函数\r\n\t\t\t\tthis.saveStatus = !this.saveStatus  // 切换保存和确认按钮\r\n\t\t\t},\r\n\t\t\tsaveText(){\r\n\t\t\t\tthis.closeTextModeL() // 关闭文本编辑区域\r\n\t\t\t},\r\n\t\t\tgetImg(e){\r\n\t\t\t\tlet Token =uni.getStorageSync('Token')\r\n\t\t\t\twx.uploadFile({\r\n\t\t\t\t\turl: urlConfig+'/bank/app/h5/contents/uploading',\r\n\t\t\t\t\tfilePath: e,\r\n\t\t\t\t\tname: 'image',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t  'Authorization': 'Bearer'+ Token, //这是要token\r\n\t\t\t\t\t   'content-type': 'multipart/form-data'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t'content_id': this.contentId,\r\n\t\t\t\t\t\t'image': e\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\tlet url = JSON.parse(uploadFileRes.data).message.image_url\r\n\t\t\t\t\t\tthis.setData(url,this.detaArr,1)\r\n\t\t\t\t\t\tthis.imgCropperShow = false\r\n\t\t\t\t\t\t// console.log(this.tpl)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 图片设置完之后回选到对应的dom上\r\n\t\t\t// e 为当前修改的数据 datas是当前的json数据对象 n为0的时候修改文字，为1的时候修改图片\r\n\t\t\tsetData:function(e,datas,n){ \r\n\t\t\t\tObject.keys(datas).forEach(item => {\r\n\t\t\t\t\tif (item == this.indexData && n===1) {\r\n\t\t\t\t\t\tdatas[this.indexData].backgroundImage = e // 编辑后的图片显示在模板上\r\n\t\t\t\t\t\tthis.tpl.dynamic.images[this.indexData] = e // 上传的图片保存到对象中\r\n\t\t\t\t\t} else if(item == this.indexData && n===0) {\r\n\t\t\t\t\t\tthis.fontObj.content = e\r\n\t\t\t\t\t\tdatas[this.indexData].text = e // 编辑后的文字回填到模板上\r\n\t\t\t\t\t\tthis.tpl.dynamic.words[this.indexData] = JSON.stringify(this.fontObj) // 编辑的文字保存到对象中\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (datas[item].childData){\r\n\t\t\t\t\t\t\tthis.setData(e,datas[item].childData,n)\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 初始化页面模板\r\n\t\t\tupdateList: function(datas,arr,n){\r\n\t\t\t\tObject.keys(datas).forEach(item => {\r\n\t\t\t\t\tObject.keys(arr).forEach(list => {\r\n\t\t\t\t\t\tif (item == list && n===1) {\r\n\t\t\t\t\t\t\tarr[list].backgroundImage = datas[item] // 编辑后的图片显示在模板上\r\n\t\t\t\t\t\t}\telse if(item == list && n===0) { // n=0时将文字填充到对象位置\r\n\t\t\t\t\t\t\tconst strToObj = JSON.parse(datas[item]) // 将获取的文字json字符串转成对象 \r\n\t\t\t\t\t\t\tarr[list].text = strToObj.content // 编辑后的文字回填到模板上\r\n\t\t\t\t\t\t}  else {\r\n\t\t\t\t\t\t\tif (arr[list].childData){  // 如果当前对象有子集（childData）将继续循环查询\r\n\t\t\t\t\t\t\t\tthis.updateList(datas,arr[list].childData,n)\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 设置名称和时长\r\n\t\t\tsave(){\r\n\t\t\t\tthis.disAbledBtn = false\r\n\t\t\t\tthis.userFeedbackHidden = false\r\n\t\t\t},\r\n\t\t\tcloseFeedback() {\r\n\t\t\t\tthis.disAbledBtn = true\r\n\t\t\t\tthis.userFeedbackHidden = true\r\n\t\t\t},\r\n\t\t\t// 保存内容单\r\n\t\t\tsubmitFeedback() {\r\n\t\t\t\tif (this.seconds>65535) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '最大时长65535',\r\n\t\t\t\t\t\timage:'/static/Fail.png', \r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t}) \t\r\n\t\t\t\t} else if(this.seconds =='') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '时长不能为空',\r\n\t\t\t\t\t\timage:'/static/Fail.png', \r\n\t\t\t\t\t\tduration: 1000\t})\r\n\t\t\t\t} else if(this.name==='') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '名称不能为空',\r\n\t\t\t\t\t\timage:'/static/Fail.png', \r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t}) \r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.userFeedbackHidden = true\r\n\t\t\t\t\tthis.disAbledBtn = false\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t    title: '保存中...'\r\n\t\t\t\t\t })\r\n\t\t\t\t\t// console.log(this.tpl)\r\n\t\t\t\t\tthis.$req({\r\n\t\t\t\t\t\tmethod:'PUT',\r\n\t\t\t\t\t\turl:'/bank/app/h5/contents/'+this.contentId,\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\"name\": this.name,\r\n\t\t\t\t\t\t\t\"seconds\": this.seconds,\r\n\t\t\t\t\t\t\t\"tpl\": this.tpl,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\tif(res.data.success) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\tif (this.removeStatu) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.ADD_CONTENT_LIST(res.data.message)\r\n\t\t\t\t\t\t\t\t\tthis.removeStatu = false\r\n\t\t\t\t\t\t\t\t\t// this.getContentLists({page: 0,pagesize:10})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.REMOVE_CONTENT_LIST()\r\n\t\t\t\t\t\t\t\t\tthis.getContentLists({page: 0,pagesize:10})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/modeList/index'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t} \t\r\n\t\t\t\t\t\t\tthis.disAbledBtn = true\r\n\t\t\t\t\t   })\t\r\n\t\t\t\t}\r\n\t\t\t},\t\r\n\t\t\tnewBuilt:function() {\r\n\t\t\t\tlet p = new Promise ((reslove,reject)=>{\r\n\t\t\t\t\tapi.bliudContentLists(this.Id,this.thumb_path).then(res=>{\r\n\t\t\t\t\t\t   if(res.data.success){\r\n\t\t\t\t\t\t\t reslove(res.data)\r\n\t\t\t\t\t\t   } else{\r\n\t\t\t\t\t\t\t  uni.showToast({\r\n\t\t\t\t\t\t\t      title: '保存失败',\r\n\t\t\t\t\t\t\t\t  image:'/static/Fail.png',\r\n\t\t\t\t\t\t\t      duration: 2000\r\n\t\t\t\t\t\t\t  }) \r\n\t\t\t\t\t\t   }\r\n\t\t\t\t\t   }).catch(error=>{\r\n\t\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t})\n\t\t\t\t})\r\n\t\t\t\treturn p\r\n\t\t\t},\r\n\t\t\tshow:function(list){\r\n\t\t\t\tthis[list].showCode();\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.content {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\n\t\tbackground: #000000;\n\t}\r\n\t.methodBox{\r\n\t\toverflow: hidden;\r\n\t\tpadding: 25rpx;\r\n\t}\r\n\t.editText{\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: #000000;\r\n\t\topacity: 0.7;\r\n\t\tz-index: 2;\r\n\t\tpadding: 20px 0px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.toggleMaterial{\r\n\t\tposition: absolute;\r\n\t\tbottom: 0px;\r\n\t\tbackground: rgb(50,50,50);\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tz-index: 1;\r\n\t}\r\n\t.templateBox{\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\toverflow: hidden;\r\n\t\tbackground: #FFFFFF;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t}\r\n\t.imageschild{\r\n\t\tposition: absolute;\r\n\t}\r\n\t.textchild{\r\n\t\tposition: absolute;\r\n\t}\r\n\t.childBox{\r\n\t\tposition: absolute;\r\n\t}\r\n\t.active .imageschild{\r\n\t\t    box-sizing: border-box;\r\n\t\t\tborder:3px solid #007AFF;\r\n\t\t}\r\n\t.materialBtn{\r\n\t\tbackground-color: rgb(50,50,50);\r\n\t}\r\n\t.popup_overlay {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0%;\r\n\t\t\tleft: 0%;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground-color: black;\r\n\t\t\tz-index: 1001;\r\n\t\t\t-moz-opacity: 0.8;\r\n\t\t\topacity: .80;\r\n\t\t\tfilter: alpha(opacity=88);\r\n\t\t}\r\n\t \r\n\t\t.popup_content {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\twidth: 520upx;\r\n\t\t\theight: 550upx;\r\n\t\t\tmargin-left: -270upx;\r\n\t\t\tmargin-top: -270upx;\r\n\t\t\tborder: 10px solid white;\r\n\t\t\tbackground-color: white;\r\n\t\t\tz-index: 1002;\r\n\t\t\toverflow: auto;\r\n\t\t\tborder-radius: 20upx;\r\n\t\t}\r\n\t \r\n\t\t.popup_title {\r\n\t\t\tpadding-top: 20upx;\r\n\t\t\tpadding-bottom: 20upx;\r\n\t\t\twidth: 480upx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 32upx;\r\n\t\t}\r\n\t \r\n\t\t.popup_textarea_item {\r\n\t\t\twidth: 440upx;\r\n\t\t\tbackground-color: #F1F1F1;\r\n\t\t\tmargin: 0px auto;\r\n\t\t\tpadding: 14upx;\r\n\t\t\tbox-sizing: content-box;\r\n\t\t}\r\n\t \r\n\t\t.uni-form-item {\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tmargin-bottom: 15upx;\r\n\t\t\t.title{\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tpadding: 10upx 0;\r\n\t\t\t}\r\n\t\t\t.uni-input{\r\n\t\t\t\theight: 65rpx;\r\n\t\t\t\tpadding: 0rpx 40rpx;\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tborder: 1px solid #000;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t}\r\n\t\t}\r\n\t \r\n\t\t.popup_button {\r\n\t\t\tcolor: white;\r\n\t\t\tbackground-color: #4399FC;\r\n\t\t\tborder-radius: 20upx;\r\n\t\t\tfont-size: 30upx;\r\n\t\t\theight: 70upx;\r\n\t\t\tline-height: 70upx;\r\n\t\t\tmargin-bottom: 15upx;\r\n\t\t}\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605749784352\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}